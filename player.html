<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor Din치mico</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
        video, div {
            width: 100% !important;
            height: 100vh !important;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <div id="video-container"></div>

    <script>
        // Obtener par치metros de la URL
        const params = new URLSearchParams(window.location.search);
        const videoUrl = params.get('video') || '';
        const posterUrl = params.get('poster') || '';
        const playerType = params.get('player') || 'native';

        const container = document.getElementById('video-container');

        // Funci칩n para cargar el reproductor seleccionado
        function loadPlayer() {
            switch (playerType) {
                case 'videojs':
                    loadVideoJS();
                    break;
                case 'plyr':
                    loadPlyr();
                    break;
                case 'mediaelement':
                    loadMediaElement();
                    break;
                case 'shaka':
                    loadShakaPlayer();
                    break;
                case 'clappr':
                    loadClappr();
                    break;
                case 'flowplayer':
                    loadFlowplayer();
                    break;
                case 'jwplayer':
                    loadJWPlayer();
                    break;
                default:
                    loadNativePlayer();
            }
        }

        // Cargar Video.js
        function loadVideoJS() {
            const script = document.createElement('script');
            script.src = 'https://vjs.zencdn.net/7.20.1/video.min.js';
            script.onload = () => {
                const link = document.createElement('link');
                link.href = 'https://vjs.zencdn.net/7.20.1/video-js.css';
                link.rel = 'stylesheet';
                document.head.appendChild(link);

                const videoElement = document.createElement('video');
                videoElement.id = 'myPlayer';
                videoElement.className = 'video-js vjs-default-skin';
                videoElement.setAttribute('controls', '');
                videoElement.setAttribute('preload', 'auto');
                videoElement.setAttribute('playsinline', '');
                videoElement.setAttribute('poster', posterUrl);

                const source = document.createElement('source');
                source.src = videoUrl;
                source.type = 'video/mp4';
                videoElement.appendChild(source);

                container.appendChild(videoElement);

                videojs('myPlayer');
            };
            document.body.appendChild(script);
        }

        // Cargar Plyr
        function loadPlyr() {
            const script = document.createElement('script');
            script.src = 'https://cdn.plyr.io/3.7.8/plyr.js';
            script.onload = () => {
                const link = document.createElement('link');
                link.href = 'https://cdn.plyr.io/3.7.8/plyr.css';
                link.rel = 'stylesheet';
                document.head.appendChild(link);

                const videoElement = document.createElement('video');
                videoElement.controls = true;
                videoElement.poster = posterUrl;

                const source = document.createElement('source');
                source.src = videoUrl;
                source.type = 'video/mp4';
                videoElement.appendChild(source);

                container.appendChild(videoElement);

                const player = new Plyr(videoElement);
            };
            document.body.appendChild(script);
        }

        // Cargar MediaElement.js
        function loadMediaElement() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/mediaelement@4.2.16/build/mediaelement-and-player.min.js';
            script.onload = () => {
                const link = document.createElement('link');
                link.href = 'https://cdn.jsdelivr.net/npm/mediaelement@4.2.16/build/mediaelementplayer.min.css';
                link.rel = 'stylesheet';
                document.head.appendChild(link);

                const videoElement = document.createElement('video');
                videoElement.width = '100%';
                videoElement.height = '100%';
                videoElement.poster = posterUrl;
                videoElement.controls = true;

                const source = document.createElement('source');
                source.src = videoUrl;
                source.type = 'video/mp4';
                videoElement.appendChild(source);

                container.appendChild(videoElement);

                new MediaElementPlayer(videoElement, {
                    stretching: 'responsive'
                });
            };
            document.body.appendChild(script);
        }

        // Cargar Shaka Player
        function loadShakaPlayer() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/shaka-player@4.2.0/dist/shaka-player.compiled.js';
            script.onload = () => {
                const videoElement = document.createElement('video');
                videoElement.controls = true;
                videoElement.poster = posterUrl;
                videoElement.style.width = '100%';
                videoElement.style.height = '100%';

                container.appendChild(videoElement);

                const player = new shaka.Player(videoElement);
                player.load(videoUrl).catch((error) => {
                    console.error('Error al cargar el video:', error);
                });
            };
            document.body.appendChild(script);
        }

        // Cargar Clappr
        function loadClappr() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jsdelivr.net/npm/clappr@0.4.2/dist/clappr.min.js';
            script.onload = () => {
                const link = document.createElement('link');
                link.href = 'https://cdn.jsdelivr.net/npm/clappr@0.4.2/dist/clappr.css';
                link.rel = 'stylesheet';
                document.head.appendChild(link);

                const playerElement = document.createElement('div');
                playerElement.id = 'clappr-player';
                container.appendChild(playerElement);

                const player = new Clappr.Player({
                    source: videoUrl,
                    parentId: '#clappr-player',
                    poster: posterUrl,
                    autoPlay: false,
                    controls: true
                });
            };
            document.body.appendChild(script);
        }

        // Cargar Flowplayer
        function loadFlowplayer() {
            const script = document.createElement('script');
            script.src = 'https://cdn.flowplayer.com/releases/native/3/stable/flowplayer.min.js';
            script.onload = () => {
                const link = document.createElement('link');
                link.href = 'https://cdn.flowplayer.com/releases/native/3/stable/skins/minimalist.css';
                link.rel = 'stylesheet';
                document.head.appendChild(link);

                const playerElement = document.createElement('div');
                playerElement.id = 'flowplayer-container';
                container.appendChild(playerElement);

                flowplayer('#flowplayer-container', {
                    src: videoUrl,
                    poster: posterUrl,
                    autoplay: false,
                    controls: true
                });
            };
            document.body.appendChild(script);
        }

        // Cargar JW Player (Versi칩n Gratuita)
        function loadJWPlayer() {
            const script = document.createElement('script');
            script.src = 'https://cdn.jwplayer.com/libraries/your_jwplayer_key.js'; // Reemplaza 'your_jwplayer_key' con tu clave JW Player
            script.onload = () => {
                const playerElement = document.createElement('div');
                playerElement.id = 'jwplayer-container';
                container.appendChild(playerElement);

                jwplayer('jwplayer-container').setup({
                    file: videoUrl,
                    image: posterUrl,
                    autostart: false,
                    controls: true,
                    width: '100%',
                    height: '100%'
                });
            };
            document.body.appendChild(script);
        }

        // Cargar Reproductor Nativo HTML5
        function loadNativePlayer() {
            const videoElement = document.createElement('video');
            videoElement.controls = true;
            videoElement.poster = posterUrl;
            videoElement.style.width = '100%';
            videoElement.style.height = '100%';

            const source = document.createElement('source');
            source.src = videoUrl;
            source.type = 'video/mp4';
            videoElement.appendChild(source);

            container.appendChild(videoElement);
        }

        // Inicializar el reproductor
        loadPlayer();
    </script>
</body>
</html>
